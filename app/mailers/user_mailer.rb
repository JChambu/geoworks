class UserMailer < ApplicationMailer

  def new_user(user)
    @user = user
    mail(to: user.email, subject: 'se ha dado de alta', from: 'asergiop21@gmail.com')
  end
  
  def edit_user(user)
    @user = user
    mail(to: user.email, subject: 'Se ha modificado su perfil', from: 'asergiop21@gmail.com')
  end
  
  def send_alert(to,name_corp,html_content, plain_content)
    inline_base64('logo.png', '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')
     mail(to: to, subject: 'Alerta desde '+name_corp.to_s, from: 'asergiop21@gmail.com') do |format|
       format.html { render html: html_content.html_safe }
       format.text { render plain: plain_content }
     end
  end

  def inline_base64(name, content)
    attachments.inline[name] = { content: Base64.encode64(Base64.decode64(content)),
                               mime_type: "image/png", encoding: "base64" }
  end

end
